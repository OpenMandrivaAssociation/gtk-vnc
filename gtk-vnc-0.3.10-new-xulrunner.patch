diff -p -up gtk-vnc-0.3.10/plugin/gtk-vnc-plugin.c~ gtk-vnc-0.3.10/plugin/gtk-vnc-plugin.c
--- gtk-vnc-0.3.10/plugin/gtk-vnc-plugin.c~	2009-08-28 18:31:55.000000000 +0200
+++ gtk-vnc-0.3.10/plugin/gtk-vnc-plugin.c	2010-01-05 12:48:20.000000000 +0100
@@ -36,7 +36,8 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <vncdisplay.h>
-
+#include <nspr4/prtypes.h>
+#include <nspr4/obsolete/protypes.h>
 #include "gtk-vnc-plugin.h"
 
 static void
diff -p -up gtk-vnc-0.3.10/plugin/npshell.c~ gtk-vnc-0.3.10/plugin/npshell.c
--- gtk-vnc-0.3.10/plugin/npshell.c~	2009-08-28 18:31:55.000000000 +0200
+++ gtk-vnc-0.3.10/plugin/npshell.c	2010-01-05 12:53:39.000000000 +0100
@@ -79,9 +79,10 @@ Contributor(s): Adobe Systems Incorporat
 
 #include <stdio.h>
 #include <string.h>
+#include <nspr4/prtypes.h>
+#include <nspr4/obsolete/protypes.h>
 
 #include <npapi.h>
-#include <npupp.h>
 
 #include "gtk-vnc-plugin.h"
 
diff -p -up gtk-vnc-0.3.10/plugin/npunix.c~ gtk-vnc-0.3.10/plugin/npunix.c
--- gtk-vnc-0.3.10/plugin/npunix.c~	2009-08-28 18:31:55.000000000 +0200
+++ gtk-vnc-0.3.10/plugin/npunix.c	2010-01-05 12:53:18.000000000 +0100
@@ -54,8 +54,10 @@
 #define XP_UNIX 1
 
 #include <stdio.h>
+#include <nspr4/prtypes.h>
+#include <nspr4/obsolete/protypes.h>
 #include <npapi.h>
-#include <npupp.h>
+#include <npfunctions.h>
 
 #include <glib.h>               /* just for G_GNUC_UNUSED */
 
